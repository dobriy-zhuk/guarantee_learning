{% extends 'base/base.html' %}
{% load static %}
{% block title %}ГАРАНТИЯ ЗНАНИЙ - кружки Робототехники, Программирования и Химии детям{% endblock title %}

{% block tags %}
<meta name="description"
    content="ГАРАНТИЯ ЗНАНИЙ - Курсы дополнительного образования для детей и школьников по робототехнике, программированию, химии и подготовительные курсы егэ и огэ" />
<meta name="keywords"
    content="гарантия знаний, программирование, курсы, робототехника, занятия, химия, английский, физика, математика, русский, французский, предпринимательство, финансы, моделирование, обществознание, егэ, огэ, экзамены, лагерь, детский" />
<meta name="author" content="dobriy_zhuk" />
<meta property="og:title"
    content="ГАРАНТИЯ ЗНАНИЙ - Робототехника, Программирование, Химия, а также курсы ЕГЭ и ОГЭ для детей" />
<meta property="og:description"
    content="ГАРАНТИЯ ЗНАНИЙ - Курсы дополнительного образования для детей и школьников по робототехнике, программированию, химии и подготовительные курсы егэ и огэ для детей" />
<meta property="og:image" content="http://garantylearning.com/images/slide_1.jpg" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://garantylearning.com/index.html" />
{% endblock %}

{% block content %}

        <section class="ftco-section">
    	<div class="container">
    		<div class="row justify-content-center mb-3 mt-5">
          <div class="col-md-7 text-center heading-section ftco-animate">
            <h2 class="mb-3">Создание нового пользователя</h2>
            <p>Внимательно вносите информацию</p>
          </div>
        </div>
    		<div class="row">
    			<div class="col-md-12 ftco-animate">

                <ul class="nav nav-pills mb-3" id="pills-tab" role="tablist">
                  <li class="nav-item">
                    <a class="nav-link active" id="pills-home-tab" data-toggle="pill" href="#add-student" role="tab" aria-controls="pills-home" aria-selected="true">Студент</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" id="pills-profile-tab" data-toggle="pill" href="#add-teacher" role="tab" aria-controls="pills-profile" aria-selected="false">Педагог</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" id="pills-contact-tab" data-toggle="pill" href="#add-manager" role="tab" aria-controls="pills-contact" aria-selected="false">Менеджер</a>
                  </li>
                </ul>
                <div class="tab-content" id="pills-tabContent">
                  <div class="tab-pane fade show active" id="add-student" role="tabpanel" aria-labelledby="pills-home-tab">
                      <form method="post" id="student-form">
                      {% csrf_token %}
                        <div id="result_div_id"></div>
                        <div class="form-group">
                            <label>Имя студента</label>
                            <input type="text" class="form-control" id="student_first_name" placeholder="Имя">
                        </div>
                        <div class="form-group">
                            <label>Фамилия студента</label>
                            <input type="text" class="form-control" id="student_last_name" placeholder="Фамилия">
                        </div>
                        <div class="form-group">
                            <label>Телефон</label>
                            <input type="tel" class="form-control" id="student_phone" placeholder="+79151761287">
                        </div>
                        <div class="form-group">
                            <label>Email</label>
                            <input type="email" class="form-control" id="student_email" placeholder="email@email.com">
                        </div>
                        <div class="form-group">
                            <label for="branch-select">Выберите филиал</label>
                            <select class="form-control" id="student_branch_select">
                                {% for branch in branches %}
                                    <option value="{{ branch }}">{{ branch }}</option>
                                {% endfor %}
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="subject-select">Выберите предмет</label>
                            <select class="form-control" id="student-subject_select">
                                {% for subject in subjects %}
                                    <option value="{{ subject }}">{{ subject }}</option>
                                {% endfor %}
                            </select>
                        </div>
                        <div class="form-check">
                            <input type="checkbox" class="form-check-input" id="student_leadCheckbox">
                            <label class="form-check-label" for="leadCheckbox">Лид</label>
                        </div>
                        <div class="form-group">
                            <label>Комментарий</label>
                            <input type="text" class="form-control" id="comment" placeholder="Дополнительная информация">
                        </div>
                       <button type="button" class="btn btn-primary" onclick="create_student()">Добавить студента</button>
                    </form>
                  </div>
                  <div class="tab-pane fade" id="add-teacher" role="tabpanel" aria-labelledby="pills-profile-tab">
                      <form method="post" id="teacher-form">
                      {% csrf_token %}
                        <div id="result_div_id"></div>
                        <div class="form-group">
                            <label>Имя педагога</label>
                            <input type="text" class="form-control" id="teacher_first_name" placeholder="Имя">
                        </div>
                        <div class="form-group">
                            <label>Фамилия педагога</label>
                            <input type="text" class="form-control" id="teacher_last_name" placeholder="Фамилия">
                        </div>
                        <div class="form-group">
                            <label>Телефон</label>
                            <input type="tel" class="form-control" id="teacher_phone" placeholder="+79151761287">
                        </div>
                        <div class="form-group">
                            <label>Email</label>
                            <input type="email" class="form-control" id="teacher_email" placeholder="email@email.com">
                        </div>
                        <div class="form-group">
                            <label for="branch-select">Выберите филиал</label>
                            <select class="form-control" id="branch-select">
                                {% for branch in branches %}
                                    <option value="{{ branch }}">{{ branch }}</option>
                                {% endfor %}
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="subject-select">Выберите предмет</label>
                            <select class="form-control" id="subject-select">
                                {% for subject in subjects %}
                                    <option value="{{ subject }}">{{ subject }}</option>
                                {% endfor %}
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="user-select">Статус педагога</label>
                            <select class="form-control" id="teacher_status">
                                <option value="student" selected>Отклик на вакансию</option>
                                <option value="teacher">Прошел 1-ый этап</option>
                                <option value="manager">Прошел 2-ой этап</option>
                                <option value="manager">Готов преподавать</option>
                            </select>
                        </div>
                      <div class="form-group">
                            <label>Ставка за час</label>
                            <input type="number" class="form-control" id="teacher_hourly_rate" placeholder="250">
                        </div>
                        <div class="form-group">
                            <label>Комментарий</label>
                            <input type="text" class="form-control" id="comment" placeholder="Дополнительная информация">
                        </div>
                       <button type="button" class="btn btn-primary" onclick="create_teacher()">Добавить педагога</button>
                    </form>
                  </div>
                  <div class="tab-pane fade" id="add-manager" role="tabpanel" aria-labelledby="pills-contact-tab">
                      <form method="post" id="lesson-form">
                      {% csrf_token %}
                        <div id="result_div_id"></div>
                        <div class="form-group">
                            <label>Имя менеджера</label>
                            <input type="text" class="form-control" id="manager_first_name" placeholder="Имя">
                        </div>
                        <div class="form-group">
                            <label>Фамилия менеджера</label>
                            <input type="text" class="form-control" id="manager_last_name" placeholder="Фамилия">
                        </div>
                        <div class="form-group">
                            <label>Телефон</label>
                            <input type="tel" class="form-control" id="manager_phone" placeholder="+79151761287">
                        </div>
                        <div class="form-group">
                            <label>Email</label>
                            <input type="email" class="form-control" id="manager_email" placeholder="email@email.com">
                        </div>
                        <div class="form-group">
                            <label for="branch-select">Выберите филиал</label>
                            <select class="form-control" id="branch-select">
                                {% for branch in branches %}
                                    <option value="{{ branch }}">{{ branch }}</option>
                                {% endfor %}
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Комментарий</label>
                            <input type="text" class="form-control" id="comment" placeholder="Дополнительная информация">
                        </div>
                       <button type="button" class="btn btn-primary" onclick="create_manager()">Добавить менеджера</button>
                    </form>
                  </div>
                </div>
    			</div>
    		</div>
    	</div>
    </section>


    <section class="ftco-section ftco-partner">
    	<div class="container">
    		<div class="row">
    			<div class="col-sm ftco-animate">
    				<a href="#" class="partner"><img src="images/partner-1.png" class="img-fluid" alt="Colorlib Template"></a>
    			</div>
    			<div class="col-sm ftco-animate">
    				<a href="#" class="partner"><img src="images/partner-2.png" class="img-fluid" alt="Colorlib Template"></a>
    			</div>
    			<div class="col-sm ftco-animate">
    				<a href="#" class="partner"><img src="images/partner-3.png" class="img-fluid" alt="Colorlib Template"></a>
    			</div>
    			<div class="col-sm ftco-animate">
    				<a href="#" class="partner"><img src="images/partner-4.png" class="img-fluid" alt="Colorlib Template"></a>
    			</div>
    			<div class="col-sm ftco-animate">
    				<a href="#" class="partner"><img src="images/partner-5.png" class="img-fluid" alt="Colorlib Template"></a>
    			</div>
    		</div>
    	</div>
    </section>


<link rel="stylesheet" href="https://res.cloudinary.com/dxfq3iotg/raw/upload/v1569006288/BBBootstrap/choices.min.css?version=7.0.0">
<script src="https://res.cloudinary.com/dxfq3iotg/raw/upload/v1569006273/BBBootstrap/choices.min.js?version=7.0.0"></script>
<script>


 var multipleCancelButtonStudent = new Choices('#choices-multiple-remove-student', {
 removeItemButton: true,
 maxItemCount:10,
 searchResultLimit:10,
 renderChoiceLimit:10
 });


  var multipleCancelButtonTeacher = new Choices('#choices-multiple-remove-teacher', {
 removeItemButton: true,
 maxItemCount:1,
 searchResultLimit:1,
 renderChoiceLimit:5
 });

function create_student(){
    $.ajax({
        type:'POST',
        url:'{% url "new_profile" %}',
        dataType: 'json',
        data: JSON.stringify({
            "user_type": "student",
            "first_name": $('#student_first_name').val(),
            "last_name": $('#student_last_name').val(),
            "email": $('#student_email').val(),
            "phone": $('#student_phone').val(),
            "status": document.getElementById("student_leadCheckbox").checked,
        }),
        contentType: 'application/json; charset=utf-8',
        success:function(json){
            //document.getElementById("post-form").reset();
            alert(json.result);
        },
        error : function(xhr,errmsg,err) {
            alert("ERROR");
            console.log(xhr.status + ": " + xhr.responseText); // provide a bit more info about the error to the console
        }
    });
}

    function create_teacher(){
        $.ajax({
            type:'POST',
            url:'{% url "new_profile" %}',
            dataType: 'json',
            data: JSON.stringify({
                "user_type": "teacher",
                "first_name": $('#teacher_first_name').val(),
                "last_name": $('#teacher_last_name').val(),
                "email": $('#teacher_email').val(),
                "phone": $('#teacher_phone').val(),
                "status": $('#teacher_status').val(),
                "hourly_rate": $('#teacher_hourly_rate').val(),
            }),
            contentType: 'application/json; charset=utf-8',
            success:function(json){
            //document.getElementById("post-form").reset();
                alert(json.result);
            },
            error : function(xhr,errmsg,err) {
                alert("ERROR");
                console.log(xhr.status + ": " + xhr.responseText); // provide a bit more info about the error to the console
            }
        });
    }

    function create_manager(){
        $.ajax({
            type:'POST',
            url:'{% url "new_profile" %}',
            dataType: 'json',
            data: JSON.stringify({
                "user_type": "manager",
                "first_name": $('#manager_first_name').val(),
                "last_name": $('#manager_last_name').val(),
                "email": $('#manager_email').val(),
                "phone": $('#manager_phone').val(),
            }),
            contentType: 'application/json; charset=utf-8',
            success:function(json){
            //document.getElementById("post-form").reset();
                alert(json.result);
            },
            error : function(xhr,errmsg,err) {
                alert("ERROR");
                console.log(xhr.status + ": " + xhr.responseText); // provide a bit more info about the error to the console
            }
        });
    }
</script>


{% endblock %}

